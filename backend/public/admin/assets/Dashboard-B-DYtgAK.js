import{_ as cs,f as v,i as us,j as vs,o as u,c as m,e as t,t as d,a,w as e,k as E,l as c,m as T,n as V,p as fs,q as rs,r as f,s as U,v as ms,x as ps,u as gs,F as _s,y as Ts,z as M,A as Cs,B as P,d as r}from"./index-CYafs7gL.js";const p={SUPER_ADMIN:"super_admin",ADMIN:"admin",CONTENT_ADMIN:"content_admin"},i={USER_VIEW:"user_view",USER_EDIT:"user_edit",CONTENT_VIEW:"content_view",CONTENT_EDIT:"content_edit",SYSTEM_CONFIG:"system_config"},ks={[p.SUPER_ADMIN]:[i.USER_VIEW,i.USER_EDIT,i.CONTENT_VIEW,i.CONTENT_EDIT,i.SYSTEM_CONFIG],[p.ADMIN]:[i.USER_VIEW,i.CONTENT_VIEW,i.CONTENT_EDIT],[p.CONTENT_ADMIN]:[i.CONTENT_VIEW,i.CONTENT_EDIT]},Es=(N,n)=>N?(ks[N]||[]).includes(n):!1,Ns=()=>localStorage.getItem("userRole")||p.SUPER_ADMIN,bs={class:"nav-bar"},ys={class:"nav-actions"},Is={class:"role-badge"},ws={class:"welcome-header"},Ss={class:"subtitle"},Ms={class:"stats-info"},Ds={class:"stats-title"},Os={class:"stats-value"},As={class:"stats-footer"},Rs={class:"unit"},Vs={class:"card-header"},Us={class:"time-text"},Ps={class:"status-item"},Ws={class:"status-item"},qs={class:"status-item"},Fs={class:"status-item"},xs={class:"admin-section"},Bs={key:0,class:"menu-group"},Ls={key:1,class:"menu-group"},zs={key:2,class:"menu-group"},Gs={class:"menu-icon",style:{backgroundColor:"#6666ff"}},Js={key:3,class:"menu-group"},Ys={class:"menu-icon",style:{backgroundColor:"#009688"}},js={class:"menu-icon",style:{backgroundColor:"#1e88e5"}},Hs={class:"menu-icon",style:{backgroundColor:"#00bcd4"}},Ks={__name:"Dashboard",setup(N){const n=gs(),b=v(!1),W=v("ğŸ§®"),q=v("ğŸ’»"),F=v("ğŸ¥"),x=v("ğŸ–¼ï¸"),D=v(Ns()),B=rs(()=>({[p.SUPER_ADMIN]:"è¶…çº§ç®¡ç†å‘˜",[p.ADMIN]:"ç®¡ç†å‘˜",[p.CONTENT_ADMIN]:"å†…å®¹ç®¡ç†å‘˜"})[D.value]||"ç®¡ç†å‘˜"),C=l=>Es(D.value,l),O=v(new Date().toLocaleString());let y=null;const g=v([{title:"æ€»ç”¨æˆ·æ•°",value:"0",unit:"äºº",type:"",icon:U,color:"#409EFF",trend:12},{title:"ä»Šæ—¥æ´»è·ƒ",value:"0",unit:"äºº",type:"success",icon:U,color:"#67C23A",trend:5},{title:"è§†é¢‘è¯¾ç¨‹",value:"0",unit:"é—¨",type:"warning",icon:ms,color:"#E6A23C",trend:0},{title:"å¾…å¤„ç†çº é”™",value:"0",unit:"æ¡",type:"danger",icon:ps,color:"#F56C6C",trend:-2}]),I=v([{time:new Date().toISOString(),user:"admin",action:"ç™»å½•ç³»ç»Ÿ",status:"success"},{time:new Date().toISOString(),user:"admin",action:"æŸ¥çœ‹äº†ä»ªè¡¨ç›˜",status:"success"}]),L=l=>new Date(l).toLocaleString(),z=async()=>{try{const l=await fs.getDashboardStats();if(l.code===0&&l.data){const s=l.data;g.value[0].value=s.totalUsers||"0",g.value[1].value=s.activeToday||"0",g.value[2].value=s.totalVideos||"0",g.value[3].value=s.pendingFeedbacks||"0",s.recentActivities&&(I.value=s.recentActivities||[])}}catch(l){console.error("Failed to fetch stats:",l),I.value=[]}},G=()=>{n.push("/user/list")},J=()=>{n.push("/questions/public")},Y=()=>{n.push("/questions/public")},j=()=>{n.push("/questions/public-manage")},H=()=>{n.push("/questions/med")},K=()=>{n.push("/banner")},Q=()=>{n.push("/system/config")},X=()=>{n.push("/content/notice")},Z=()=>{n.push("/video/list")},$=()=>{n.push("/homepage-card")},h=()=>{n.push("/nav")},ss=()=>{n.push("/questions/politics-manage")},ts=()=>{n.push("/questions/math-manage")},es=()=>{n.push("/questions/computer-manage")},as=()=>{n.push("/questions/med-manage")},ns=()=>{n.push("/system/pan")},os=()=>{confirm("ç¡®å®šè¦é€€å‡ºç®¡ç†å‘˜ç™»å½•å—ï¼Ÿ")&&alert("å·²é€€å‡ºç™»å½•")};return us(()=>{const l=localStorage.getItem("themeMode")||"light";b.value=l==="dark",z(),y=setInterval(()=>{O.value=new Date().toLocaleString()},1e3)}),vs(()=>{y&&clearInterval(y)}),(l,s)=>{const A=f("el-icon"),w=f("el-card"),S=f("el-col"),R=f("el-row"),ds=f("el-button"),k=f("el-table-column"),_=f("el-tag"),is=f("el-table"),ls=f("el-progress");return u(),m("div",{class:V(["dashboard",{"dark-mode":b.value}])},[t("div",bs,[s[0]||(s[0]=t("div",{class:"nav-title"},"ç®¡ç†å‘˜åå°",-1)),t("div",ys,[t("div",Is,d(B.value),1),t("div",{class:"action-btn",onClick:os},"é€€å‡ºç™»å½•")])]),t("div",ws,[s[1]||(s[1]=t("h2",null,"æ¬¢è¿å›æ¥, ç®¡ç†å‘˜",-1)),t("p",Ss,d(O.value),1)]),a(R,{gutter:20},{default:e(()=>[(u(!0),m(_s,null,Ts(g.value,o=>(u(),M(S,{span:6,key:o.title},{default:e(()=>[a(w,{shadow:"hover",class:"stats-card"},{default:e(()=>[t("div",{class:"stats-icon",style:Cs({color:o.color})},[a(A,null,{default:e(()=>[(u(),M(P(o.icon)))]),_:2},1024)],4),t("div",Ms,[t("div",Ds,d(o.title),1),t("div",Os,d(o.value),1),t("div",As,[t("span",Rs,d(o.unit),1),o.trend?(u(),m("span",{key:0,class:V(["trend",o.trend>0?"up":"down"])},[r(d(o.trend>0?"+":"")+d(o.trend)+"% ",1),a(A,null,{default:e(()=>[(u(),M(P(o.trend>0?"CaretTop":"CaretBottom")))]),_:2},1024)],2)):T("",!0)])])]),_:2},1024)]),_:2},1024))),128))]),_:1}),a(R,{gutter:20,class:"mt-20"},{default:e(()=>[a(S,{span:16},{default:e(()=>[a(w,{class:"activity-card"},{header:e(()=>[t("div",Vs,[s[3]||(s[3]=t("span",null,"æœ€è¿‘æ´»åŠ¨",-1)),a(ds,{link:"",type:"primary"},{default:e(()=>[...s[2]||(s[2]=[r("æŸ¥çœ‹å…¨éƒ¨",-1)])]),_:1})])]),default:e(()=>[a(is,{data:I.value,style:{width:"100%"}},{default:e(()=>[a(k,{prop:"time",label:"æ—¶é—´",width:"180"},{default:e(o=>[t("span",Us,d(L(o.row.time)),1)]),_:1}),a(k,{prop:"user",label:"ç”¨æˆ·",width:"120"},{default:e(o=>[a(_,{size:"small"},{default:e(()=>[r(d(o.row.user),1)]),_:2},1024)]),_:1}),a(k,{prop:"action",label:"æ“ä½œå†…å®¹"}),a(k,{label:"çŠ¶æ€",width:"100"},{default:e(o=>[a(_,{type:o.row.status==="success"?"success":"info",size:"small"},{default:e(()=>[r(d(o.row.status==="success"?"å·²å®Œæˆ":"è¿›è¡Œä¸­"),1)]),_:2},1032,["type"])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1}),a(S,{span:8},{default:e(()=>[a(w,{class:"system-card"},{header:e(()=>[...s[4]||(s[4]=[r("ç³»ç»ŸçŠ¶æ€",-1)])]),default:e(()=>[t("div",Ps,[s[6]||(s[6]=t("span",null,"æœåŠ¡å™¨çŠ¶æ€",-1)),a(_,{type:"success"},{default:e(()=>[...s[5]||(s[5]=[r("æ­£å¸¸è¿è¡Œ",-1)])]),_:1})]),t("div",Ws,[s[8]||(s[8]=t("span",null,"æ•°æ®åº“è¿æ¥",-1)),a(_,{type:"success"},{default:e(()=>[...s[7]||(s[7]=[r("å·²è¿æ¥",-1)])]),_:1})]),t("div",qs,[s[10]||(s[10]=t("span",null,"ç¼“å­˜æœåŠ¡",-1)),a(_,{type:"success"},{default:e(()=>[...s[9]||(s[9]=[r("æ­£å¸¸",-1)])]),_:1})]),t("div",Fs,[s[11]||(s[11]=t("span",null,"å­˜å‚¨ç©ºé—´",-1)),a(ls,{percentage:45})])]),_:1})]),_:1})]),_:1}),t("div",xs,[C(E(i).USER_VIEW)?(u(),m("div",Bs,[s[13]||(s[13]=t("div",{class:"group-title"},"ç”¨æˆ·ç®¡ç†",-1)),t("div",{class:"menu-item",onClick:G},[...s[12]||(s[12]=[c('<div class="menu-icon" style="background-color:#43e97b;" data-v-f53f17cf>ğŸ‘¥</div><div class="menu-content" data-v-f53f17cf><div class="menu-title" data-v-f53f17cf>ç”¨æˆ·ç®¡ç†</div><div class="menu-desc" data-v-f53f17cf>æŸ¥çœ‹å’Œç®¡ç†ç”¨æˆ·ä¿¡æ¯</div></div><div class="menu-arrow" data-v-f53f17cf></div>',3)])])])):T("",!0),C(E(i).CONTENT_VIEW)?(u(),m("div",Ls,[s[18]||(s[18]=t("div",{class:"group-title"},"å…¬å…±é¢˜åº“ç®¡ç†",-1)),t("div",{class:"menu-item",onClick:J},[...s[14]||(s[14]=[c('<div class="menu-icon" style="background-color:#6666ff;" data-v-f53f17cf>ğŸ“š</div><div class="menu-content" data-v-f53f17cf><div class="menu-title" data-v-f53f17cf>å…¬å…±é¢˜åº“å¯¼å…¥</div><div class="menu-desc" data-v-f53f17cf>å¯¼å…¥ 26 ç‰ˆ JSON é¢˜åº“æ•°æ®</div></div><div class="menu-arrow" data-v-f53f17cf></div>',3)])]),t("div",{class:"menu-item",onClick:Y},[...s[15]||(s[15]=[c('<div class="menu-icon" style="background-color:#6666ff;" data-v-f53f17cf>ğŸ“‚</div><div class="menu-content" data-v-f53f17cf><div class="menu-title" data-v-f53f17cf>å…¬å…±é¢˜åº“æ‰¹é‡å¯¼å…¥</div><div class="menu-desc" data-v-f53f17cf>æ‰¹é‡å¯¼å…¥å¤šæœ¬ä¹¦ç±ä¸ç»“æ„</div></div><div class="menu-arrow" data-v-f53f17cf></div>',3)])]),t("div",{class:"menu-item",onClick:j},[...s[16]||(s[16]=[c('<div class="menu-icon" style="background-color:#2b5cff;" data-v-f53f17cf>ğŸ“</div><div class="menu-content" data-v-f53f17cf><div class="menu-title" data-v-f53f17cf>å…¬å…±é¢˜åº“ç®¡ç†</div><div class="menu-desc" data-v-f53f17cf>å¤„ç†çº é”™åé¦ˆã€è¯•é¢˜ç®¡ç†ä¸ä¹¦ç›®ç®¡ç†</div></div><div class="menu-arrow" data-v-f53f17cf></div>',3)])]),t("div",{class:"menu-item",onClick:H},[...s[17]||(s[17]=[c('<div class="menu-icon" style="background-color:#00bcd4;" data-v-f53f17cf>ğŸ¥</div><div class="menu-content" data-v-f53f17cf><div class="menu-title" data-v-f53f17cf>è¥¿åŒ»é¢˜åº“å¯¼å…¥</div><div class="menu-desc" data-v-f53f17cf>å¯¼å…¥è¥¿åŒ»ç»¼åˆ JSON è¯•é¢˜</div></div><div class="menu-arrow" data-v-f53f17cf></div>',3)])])])):T("",!0),C(E(i).CONTENT_VIEW)?(u(),m("div",zs,[s[23]||(s[23]=t("div",{class:"group-title"},"é¦–é¡µè£…ä¿®ç®¡ç†",-1)),t("div",{class:"menu-item",onClick:K},[t("div",Gs,d(x.value),1),s[19]||(s[19]=t("div",{class:"menu-content"},[t("div",{class:"menu-title"},"è½®æ’­å›¾ç®¡ç†"),t("div",{class:"menu-desc"},"ç®¡ç†é¦–é¡µé¡¶éƒ¨è½®æ’­å›¾ç‰‡åŠå…¶è·³è½¬é“¾æ¥")],-1)),s[20]||(s[20]=t("div",{class:"menu-arrow"},null,-1))]),t("div",{class:"menu-item",onClick:Q},[...s[21]||(s[21]=[c('<div class="menu-icon" style="background-color:#ff9900;" data-v-f53f17cf>âš™</div><div class="menu-content" data-v-f53f17cf><div class="menu-title" data-v-f53f17cf>å…¨å±€ç³»ç»Ÿé…ç½®</div><div class="menu-desc" data-v-f53f17cf>ç®¡ç†é¦–é¡µå€’è®¡æ—¶å¤©æ•°ã€è€ƒç ”ç›®æ ‡æ—¥æœŸåŠå…¨å±€è®¾ç½®</div></div><div class="menu-arrow" data-v-f53f17cf></div>',3)])]),t("div",{class:"menu-item",onClick:X},[...s[22]||(s[22]=[c('<div class="menu-icon" style="background-color:#7b4397;" data-v-f53f17cf>ğŸ“</div><div class="menu-content" data-v-f53f17cf><div class="menu-title" data-v-f53f17cf>å†…å®¹ç®¡ç† (æ–°)</div><div class="menu-desc" data-v-f53f17cf>ç»Ÿä¸€ç®¡ç†å…¬å‘Šã€å¹¿å‘ŠåŠæ–‡ç« å†…å®¹</div></div><div class="menu-arrow" data-v-f53f17cf></div>',3)])])])):T("",!0),C(E(i).CONTENT_VIEW)?(u(),m("div",Js,[s[35]||(s[35]=t("div",{class:"group-title"},"é¢˜åº“ä¸ä¸šåŠ¡ç®¡ç†",-1)),t("div",{class:"menu-item",onClick:Z},[...s[24]||(s[24]=[c('<div class="menu-icon" style="background-color:#ff5252;" data-v-f53f17cf>ğŸ­</div><div class="menu-content" data-v-f53f17cf><div class="menu-title" data-v-f53f17cf>è§†é¢‘è¯¾ç¨‹ç®¡ç†</div><div class="menu-desc" data-v-f53f17cf>ç®¡ç†è§†é¢‘åˆ†ç±»ã€èµ„æºã€å…‘æ¢ç ä¸æƒé™</div></div><div class="menu-arrow" data-v-f53f17cf></div>',3)])]),t("div",{class:"menu-item",onClick:$},[...s[25]||(s[25]=[c('<div class="menu-icon" style="background-color:#4facfe;" data-v-f53f17cf>ğŸ“š</div><div class="menu-content" data-v-f53f17cf><div class="menu-title" data-v-f53f17cf>é¦–é¡µç§‘ç›®å¡ç‰‡</div><div class="menu-desc" data-v-f53f17cf>ç®¡ç†é¦–é¡µç²¾é€‰åˆ·é¢˜å¡ç‰‡çš„å†…å®¹ã€é¢œè‰²å’Œé«˜åº¦</div></div><div class="menu-arrow" data-v-f53f17cf></div>',3)])]),t("div",{class:"menu-item",onClick:h},[...s[26]||(s[26]=[c('<div class="menu-icon" style="background-color:#673ab7;" data-v-f53f17cf>ğŸ§¬</div><div class="menu-content" data-v-f53f17cf><div class="menu-title" data-v-f53f17cf>ç»ƒä¹ é¡µç§‘ç›®ç®¡ç†</div><div class="menu-desc" data-v-f53f17cf>ç®¡ç†ç»ƒä¹ é¡µå·¦ä¾§ç§‘ç›®æ ‘åŠåˆ†ç±»å¯¼èˆª</div></div><div class="menu-arrow" data-v-f53f17cf></div>',3)])]),t("div",{class:"menu-item",onClick:ss},[...s[27]||(s[27]=[c('<div class="menu-icon" style="background-color:#e91e63;" data-v-f53f17cf>ğŸµ</div><div class="menu-content" data-v-f53f17cf><div class="menu-title" data-v-f53f17cf>æ”¿æ²»å†…å®¹ç®¡ç†</div><div class="menu-desc" data-v-f53f17cf>ç®¡ç†æ”¿æ²»åˆ·é¢˜é¡µçš„å†…å®¹åˆ†ç±»ä¸ä¹¦ç±</div></div><div class="menu-arrow" data-v-f53f17cf></div>',3)])]),t("div",{class:"menu-item",onClick:ts},[t("div",Ys,d(W.value),1),s[28]||(s[28]=t("div",{class:"menu-content"},[t("div",{class:"menu-title"},"æ•°å­¦é¢˜åº“ç®¡ç†"),t("div",{class:"menu-desc"},"æ•°å­¦å…¬å¼å¯è§†åŒ–ç¼–è¾‘ä¸çº é”™")],-1)),s[29]||(s[29]=t("div",{class:"menu-arrow"},null,-1))]),t("div",{class:"menu-item",onClick:es},[t("div",js,d(q.value),1),s[30]||(s[30]=t("div",{class:"menu-content"},[t("div",{class:"menu-title"},"è®¡ç®—æœºé¢˜åº“ç®¡ç†"),t("div",{class:"menu-desc"},"è®¡ç®—æœºé¢˜ç›®ã€çº é”™ä¸å¯¼å…¥")],-1)),s[31]||(s[31]=t("div",{class:"menu-arrow"},null,-1))]),t("div",{class:"menu-item",onClick:as},[t("div",Hs,d(F.value),1),s[32]||(s[32]=t("div",{class:"menu-content"},[t("div",{class:"menu-title"},"è¥¿åŒ»çº é”™ç®¡ç†"),t("div",{class:"menu-desc"},"è¥¿åŒ»ç»¼åˆé¢˜ç›®çº é”™åé¦ˆå¤„ç†")],-1)),s[33]||(s[33]=t("div",{class:"menu-arrow"},null,-1))]),t("div",{class:"menu-item",onClick:ns},[...s[34]||(s[34]=[c('<div class="menu-icon" style="background-color:#4facfe;" data-v-f53f17cf>ğŸ“£</div><div class="menu-content" data-v-f53f17cf><div class="menu-title" data-v-f53f17cf>ç½‘ç›˜èµ„æºç®¡ç†</div><div class="menu-desc" data-v-f53f17cf>ç®¡ç†ç™¾åº¦/å¤¸å…‹ç½‘ç›˜èµ„æºä¸æ‰¹é‡è·å–</div></div><div class="menu-arrow" data-v-f53f17cf></div>',3)])])])):T("",!0)])],2)}}},Xs=cs(Ks,[["__scopeId","data-v-f53f17cf"]]);export{Xs as default};
